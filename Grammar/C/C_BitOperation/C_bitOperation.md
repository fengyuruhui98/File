# C语言位操作
C语言位操作主要有：
```
~  <<  >>  &  ^  |  &=  ^=  |=  <<=  >>=
```
# 基本应用
1. 按位与&：  
如果两个二进制位都为1，则结果是1，否则是0
2. 按位或|：  
如果两个二进制位都是0，则结果为0，否则为1
3. 按位取反~：  
该位为0，则变为1，否则变为0
4. 按位异或^：  
***如果两个数字的二进制位相同，则结果为0，相异则结果为1***
5. 左移，右移  
C语言中没有特别引入无符号右移，因此C中分为算术右移与逻辑右移两种。
>算数右移即，最右侧位不要了，最左侧直接补符号位（大多数机器上采用算数右移）故C中右移要特别注意负数的情况
>逻辑右移即最右侧不要了，最左侧直接补0.

# 常见用法
1. 加速进行乘除运算
```c
int a *= 64;
int b <<= 6;
```
将较送入CPU进行乘除运算，移位操作加速了运算效率  
　
2. int为32位，每一位可define为一种意义  
表示为32位hash表

3. &实用
```c
#define INPUT_LOW_8(SOUR,VAR)({\
    SOUR|=VAR&0x00FF;\   
})
#define INPUT_HEIGHT_8(SOUR,VAR)({\
    SOUR|=(VAR<<8)&0xFF00;\   
})
 
#define OUTPUT_LOW_8(SOUR) (SOUR&0X00FF)
#define OUTPUT_HEIGHT_8(SOUR) (SOUR&0xFF00)>>8
```
对于
```c
#define INPUT_LOW_8(SOUR,VAR)({\
    SOUR|=VAR&0x00FF;\   
})
```
这里SOUR就是变量，而VAR就是要写入低八位的值  
```SOUR|=VAR&0xFF;```  
这里用或运算是因为为了不覆盖旧值，比如高位已经有值了，如果你用=号的话那么高位会被覆盖掉  
如SOUR=VAR  
即便VAR是0001这样的小值，被c语言会翻译成0000 0000 0000 0000 0000 0001这样的32位整型，然后赋予给SOUR

但是如果是|运算就不一样了，这里给大家顺便说一下或运算的特点：

1001|101=1101

有一时为一，都是0时为0，不相同时为一  
再复习一下&和|

&: 二进制“与”(都为1时，结果是1，否则是0。)，比如:1010 & 1011 = 1010，1010 & 1000 = 1000。

|: 二进制“或”(有1时，结果是1，都是0时，结果为0。)，比如:1010 | 1011 = 1011，1010 | 1000 = 1010。

这两个运算符特点很相似，一般使用时容易混淆

后面的VAR&0xFF是因为假如传递进来的是一个大值，比如1234这样的值，我们只要低八位，所以&上0xFF，就可以取到低八位的值，然后写进去，这样可以防止一些额外的bit运算

如果你能确定VAR的值会小于8位，那么你可以省略掉后面的&0xFF