# 1. XA现金表
1. T_CS_CARD_OFFSET
2. T_CS_CASH_CHECK_BOM
3. T_CS_CASH_CHECK_TVM
4. T_CS_CASH_MANUAL_CHECK_TVM
5. T_CS_CASH_PAYMENT
6. T_CS_PETTYCASH_BALANCE
7. T_CS_PETTYCASH_BALANCE_HIS
8. T_CS_PETTYCASH_EXTRACT
9. T_CS_PETTYCASH_IN
10. T_CS_PETTYCASH_OUT
11. T_CS_PETTYCASH_SUPPLY
12. T_CS_PETTYCASH_UPDATE

```sql
-- XACCDB.T_CS_CARD_OFFSET definition

CREATE TABLE "XACCDB  "."T_CS_CARD_OFFSET"  (
		  "OFFSET_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DEVICE_NID" CHAR(8) , 
		  "TICKET_CLASS" DECIMAL(4,0) , 
		  "TICKET_TYPE" DECIMAL(3,0) , 
		  "OFFSET_TIME" TIMESTAMP , 
		  "OFFSET_OPERATOR" DECIMAL(10,0) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "MEMO" VARCHAR(100) , 
		  "OFFSET_NUM" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_CARD_OFFSET" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_CASH_CHECK_BOM definition

CREATE TABLE "XACCDB  "."T_CS_CASH_CHECK_BOM"  (
		  "CHECK_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "BOM_SHIFT" DECIMAL(5,0) , 
		  "CHECK_AMOUNT" DECIMAL(10,0) , 
		  "SPECIAL_REFUND_AMOUNT" DECIMAL(10,0) , 
		  "TRANSACTION_AMOUNT" DECIMAL(10,0) , 
		  "CHECK_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "BOM_OPERATOR" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_CASH_CHECK_BOM" 
	ADD CONSTRAINT "PK_CS_CASH_CHECK_BOM" PRIMARY KEY
		("CHECK_NBR") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_CASH_CHECK_BOM" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_CASH_CHECK_TVM definition

CREATE TABLE "XACCDB  "."T_CS_CASH_CHECK_TVM"  (
		  "CHECK_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "CASHBOX_NBR" DECIMAL(3,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "CHECK_AMOUNT" DECIMAL(8,0) , 
		  "CHECK_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "TVM_OPERATOR" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_CASH_CHECK_TVM" 
	ADD CONSTRAINT "PK_CS_CASH_CHECK_TVM" PRIMARY KEY
		("CHECK_NBR") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_CASH_CHECK_TVM" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_CASH_MANUAL_CHECK_TVM definition

CREATE TABLE "XACCDB  "."T_CS_CASH_MANUAL_CHECK_TVM"  (
		  "CHECK_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "CHECK_AMOUNT" DECIMAL(8,0) , 
		  "CHECK_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "EVENT_CLASS" DECIMAL(3,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_CASH_MANUAL_CHECK_TVM" 
	ADD CONSTRAINT "PK_CS_CASH_MENUAL_CHECK_TVM" PRIMARY KEY
		("CHECK_NBR") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_CASH_MANUAL_CHECK_TVM" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_CASH_PAYMENT definition

CREATE TABLE "XACCDB  "."T_CS_CASH_PAYMENT"  (
		  "PAYMENT_NBR" VARCHAR(20) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "PAYMENT_AMOUNT" DECIMAL(10,0) , 
		  "PAYMENT_DATE" CHAR(8) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_CASH_PAYMENT" 
	ADD CONSTRAINT "PK_CS_CASH_PAYMENT" PRIMARY KEY
		("PAYMENT_NBR") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_CASH_PAYMENT" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_BALANCE definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_BALANCE"  (
		  "STATION_ID" DECIMAL(3,0) , 
		  "PETTYCASH_AMOUNT" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_BALANCE" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_BALANCE_HIS definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_BALANCE_HIS"  (
		  "SETTLE_DATE" CHAR(8) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "PETTYCASH_AMOUNT" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_BALANCE_HIS" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_EXTRACT definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_EXTRACT"  (
		  "EXTRACT_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "EXTRACT_AMOUNT" DECIMAL(8,0) , 
		  "EXTRACT_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_PETTYCASH_EXTRACT" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_EXTRACT" PRIMARY KEY
		("EXTRACT_NBR") ;
CREATE VIEW   VIW_CS_PETTYCASH_SUPPLYEXTRACT AS SELECT 'S' OPERATE_TYPE,
supply_time occur_time, operator_id, supply_amount amount FROM T_CS_PETTYCASH_SUPPLY
UNION ALL SELECT 'E', extract_time, operator_id, extract_AMOUNT FROM T_CS_PETTYCASH_EXTRACT
UNION ALL SELECT 'U', update_time, operator_id, update_amount FROM T_CS_PETTYCASH_UPDATE ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_EXTRACT" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_IN definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_IN"  (
		  "IN_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "IN_AMOUNT" DECIMAL(8,0) , 
		  "IN_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "IN_OPERATOR" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_PETTYCASH_IN" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_IN" PRIMARY KEY
		("IN_NBR") ;
CREATE VIEW   VIW_CS_PETTYCASH_INOUT (operate_type, operator_id,
device_nid, amount, occur_time) AS SELECT 'O' operate_type, out_operator,
device_nid, out_amount amount, out_time occur_time FROM t_CS_pettycash_out
UNION ALL SELECT 'I', in_operator, device_nid, in_amount, in_time FROM
t_CS_pettycash_in ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_IN" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_OUT definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_OUT"  (
		  "OUT_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "OUT_AMOUNT" DECIMAL(8,0) , 
		  "OUT_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "OUT_OPERATOR" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_PETTYCASH_OUT" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_OUT" PRIMARY KEY
		("OUT_NBR") ;
CREATE VIEW   VIW_CS_PETTYCASH_INOUT (operate_type, operator_id,
device_nid, amount, occur_time) AS SELECT 'O' operate_type, out_operator,
device_nid, out_amount amount, out_time occur_time FROM t_CS_pettycash_out
UNION ALL SELECT 'I', in_operator, device_nid, in_amount, in_time FROM
t_CS_pettycash_in ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_OUT" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_SUPPLY definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_SUPPLY"  (
		  "SUPPLY_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "SUPPLY_AMOUNT" DECIMAL(8,0) , 
		  "SUPPLY_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_PETTYCASH_SUPPLY" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_SUPPLY" PRIMARY KEY
		("SUPPLY_NBR") ;
CREATE VIEW   VIW_CS_PETTYCASH_SUPPLYEXTRACT AS SELECT 'S' OPERATE_TYPE,
supply_time occur_time, operator_id, supply_amount amount FROM T_CS_PETTYCASH_SUPPLY
UNION ALL SELECT 'E', extract_time, operator_id, extract_AMOUNT FROM T_CS_PETTYCASH_EXTRACT
UNION ALL SELECT 'U', update_time, operator_id, update_amount FROM T_CS_PETTYCASH_UPDATE ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_SUPPLY" TO USER "XACCDB  "  ;


-- XACCDB.T_CS_PETTYCASH_UPDATE definition

CREATE TABLE "XACCDB  "."T_CS_PETTYCASH_UPDATE"  (
		  "UPDATE_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "UPDATE_AMOUNT" DECIMAL(8,0) , 
		  "UPDATE_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_CS_PETTYCASH_UPDATE" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_UPDATE" PRIMARY KEY
		("UPDATE_NBR") ;
CREATE VIEW   VIW_CS_PETTYCASH_SUPPLYEXTRACT AS SELECT 'S' OPERATE_TYPE,
supply_time occur_time, operator_id, supply_amount amount FROM T_CS_PETTYCASH_SUPPLY
UNION ALL SELECT 'E', extract_time, operator_id, extract_AMOUNT FROM T_CS_PETTYCASH_EXTRACT
UNION ALL SELECT 'U', update_time, operator_id, update_amount FROM T_CS_PETTYCASH_UPDATE ;

GRANT CONTROL ON TABLE "XACCDB  "."T_CS_PETTYCASH_UPDATE" TO USER "XACCDB  "  ;
```
# 2. XA票务表

```sql
-- XACCDB.T_TM_AREA_CODE definition

CREATE TABLE "XACCDB  "."T_TM_AREA_CODE"  (
		  "AREA_CODE" DECIMAL(5,0) NOT NULL , 
		  "AREA_NAME" VARCHAR(30) , 
		  "INVALID_FLAG" DECIMAL(1,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_TM_AREA_CODE" 
	ADD CONSTRAINT "PK_TM_AREA_CODE" PRIMARY KEY
		("AREA_CODE") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_AREA_CODE" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_DIRECTORY definition

CREATE TABLE "XACCDB  "."T_TM_DIRECTORY"  (
		  "DIRECTORY_CODE" DECIMAL(5,0) NOT NULL , 
		  "DIRECTORY_NAME" VARCHAR(50) , 
		  "TICKET_CHINESE" VARCHAR(40) , 
		  "IS_RECYCLE" DECIMAL(1,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_TM_DIRECTORY" 
	ADD CONSTRAINT "PK_TM_DIRECTORY" PRIMARY KEY
		("DIRECTORY_CODE") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_DIRECTORY" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_DIRECTORY_MAPPING definition

CREATE TABLE "XACCDB  "."T_TM_DIRECTORY_MAPPING"  (
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_DIRECTORY_MAPPING" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_INOUT_TYPE definition

CREATE TABLE "XACCDB  "."T_TM_INOUT_TYPE"  (
		  "INOUT_FLAG" DECIMAL(1,0) NOT NULL , 
		  "INOUT_TYPE" DECIMAL(3,0) , 
		  "TYPE_NAME" VARCHAR(30) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_TM_INOUT_TYPE" 
	ADD CONSTRAINT "PK_TM_INOUT_TYPE" PRIMARY KEY
		("INOUT_FLAG") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_INOUT_TYPE" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_NONRT_REFUND_APPLY definition

CREATE TABLE "XACCDB  "."T_TM_NONRT_REFUND_APPLY"  (
		  "APPLY_NO" DECIMAL(10,0) , 
		  "APPLY_TIME" TIMESTAMP , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "OPERATOR_BOM" DECIMAL(10,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "CARDNO_FACE" VARCHAR(20) , 
		  "IDENTIFY_NO" VARCHAR(32) , 
		  "CUSTOMER_NAME" VARCHAR(30) , 
		  "CARDNO_IN" DECIMAL(20,0) , 
		  "SEX" DECIMAL(3,0) , 
		  "IDENTIFY_TYPE" DECIMAL(3,0) , 
		  "TELPHONE_NUM_1" VARCHAR(15) , 
		  "TELPHONE_NUM_2" VARCHAR(15) , 
		  "TELPHONE_FAX" VARCHAR(15) , 
		  "ADDRESS" VARCHAR(50) , 
		  "FARE_MEDIA_CLASS" DECIMAL(3,0) , 
		  "FARE_MEDIA_TYPE" DECIMAL(3,0) , 
		  "VALUE_REMAIN" DECIMAL(10,0) , 
		  "VALUE_DEPOSIT" DECIMAL(5,0) , 
		  "VALUE_REFUND_FEE" DECIMAL(10,0) , 
		  "VALUE_RENT" DECIMAL(10,0) , 
		  "VALUE_DEPRECIATION" DECIMAL(10,0) , 
		  "VALUE_REFUND" DECIMAL(10,0) , 
		  "APPLY_STATUS" DECIMAL(1,0) , 
		  "APPROVAL_OPERATOR" DECIMAL(10,0) , 
		  "APPROVAL_TIME" TIMESTAMP , 
		  "APPROVAL_RESULT" VARCHAR(100) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_NONRT_REFUND_APPLY" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_ADJUST definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_ADJUST"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "ADJUST_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "ADJUST_OPERATOR" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_ADJUST" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_APPIN definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_APPIN"  (
		  "APPIN_NBR" DECIMAL(10,0) NOT NULL , 
		  "APPIN_TYPE" DECIMAL(2,0) , 
		  "APPIN_DATE" TIMESTAMP , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_TM_TICKET_APPIN" 
	ADD CONSTRAINT "PK_TM_TICKET_APPIN" PRIMARY KEY
		("APPIN_NBR") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_APPIN" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_APPIN_DETAIL definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_APPIN_DETAIL"  (
		  "APPIN_NBR" DECIMAL(10,0) , 
		  "AREA_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "VALID_DATE" TIMESTAMP , 
		  "APPIN_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_APPIN_DETAIL" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_APPOUT definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_APPOUT"  (
		  "APPOUT_NBR" DECIMAL(10,0) NOT NULL , 
		  "APPOUT_TYPE" DECIMAL(2,0) , 
		  "APPOUT_DATE" TIMESTAMP , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "STATION_ID" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "XACCDB  "."T_TM_TICKET_APPOUT" 
	ADD CONSTRAINT "PK_TM_TICKET_APPOUT" PRIMARY KEY
		("APPOUT_NBR") ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_APPOUT" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_APPOUT_DETAIL definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_APPOUT_DETAIL"  (
		  "APPOUT_NBR" DECIMAL(10,0) , 
		  "AREA_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "VALID_DATE" TIMESTAMP , 
		  "APPOUT_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_APPOUT_DETAIL" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_BALANCE definition

CREATE TABLE "T_TM_TICKET_BALANCE"  (
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "TICKET_NUM" DECIMAL(10,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "TICKET_NUM_YES" DECIMAL(10,0) , 
		  "SUPPLY_FROM_OTHER" DECIMAL(10,0) , 
		  "SUPPLY_FROM_TC" DECIMAL(10,0) , 
		  "AGM_RETRIEVE" DECIMAL(10,0) , 
		  "BOM_SALE" DECIMAL(10,0) , 
		  "TVM_SALE" DECIMAL(10,0) , 
		  "AGM_INVALID" DECIMAL(10,0) , 
		  "BOM_INVALID" DECIMAL(10,0) , 
		  "TVM_INVALID" DECIMAL(10,0) , 
		  "EXTRACT_TO_OTHER" DECIMAL(10,0) , 
		  "EXTRACT_TO_TC" DECIMAL(10,0) , 
		  "MANUAL_RETRIEVE" DECIMAL(10,0) , 
		  "INVENTORY_NUM" DECIMAL(10,0) , 
		  "ADJUST_NUM" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_BALANCE" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_BALANCE_HIS definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_BALANCE_HIS"  (
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "SETTLE_DATE" VARCHAR(8) , 
		  "STATION_ID" DECIMAL(5,0) , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "TICKET_NUM" DECIMAL(10,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "TICKET_NUM_YES" DECIMAL(10,0) , 
		  "SUPPLY_FROM_OTHER" DECIMAL(10,0) , 
		  "SUPPLY_FROM_TC" DECIMAL(10,0) , 
		  "AGM_RETRIEVE" DECIMAL(10,0) , 
		  "BOM_SALE" DECIMAL(10,0) , 
		  "TVM_SALE" DECIMAL(10,0) , 
		  "AGM_INVALID" DECIMAL(10,0) , 
		  "BOM_INVALID" DECIMAL(10,0) , 
		  "TVM_INVALID" DECIMAL(10,0) , 
		  "EXTRACT_TO_OTHER" DECIMAL(10,0) , 
		  "EXTRACT_TO_TC" DECIMAL(10,0) , 
		  "MANUAL_RETRIEVE" DECIMAL(10,0) , 
		  "INVENTORY_NUM" DECIMAL(10,0) , 
		  "ADJUST_NUM" DECIMAL(10,0) )   
		 IN "USERSPACE1"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_BALANCE_HIS" TO USER "XZCCDB  "  ;


-- XACCDB.T_TM_TICKET_DEFER definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_DEFER"  (
		  "TICKET_SEQ" DECIMAL(10,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "START_TICKET_NBR" DECIMAL(10,0) , 
		  "END_TICKET_NBR" DECIMAL(10,0) , 
		  "TICKET_AMOUNT" DECIMAL(10,0) , 
		  "START_ACTIVE_DATE" CHAR(8) , 
		  "END_ACTIVE_DATE" CHAR(8) , 
		  "RE_ACTIVE_DATE" CHAR(8) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_DEFER" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_EXTRACT definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_EXTRACT"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "EXTRACT_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "VALID_DATE" TIMESTAMP )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
CREATE VIEW   VIW_TM_SUPPLYEXTRACT (operate_nbr, operator_id,
directory_code, se_num, memo, operate_time, se_type) AS SELECT OPERATE_NBR,
OPERATOR_ID, DIRECTORY_CODE, SUPPLY_NUM, MEMO, OPERATE_TIME, 0 FROM T_TM_TICKET_SUPPLY
UNION SELECT OPERATE_NBR, OPERATOR_ID, DIRECTORY_CODE, EXTRACT_NUM, MEMO,
OPERATE_TIME, 1 FROM T_TM_TICKET_EXTRACT ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_EXTRACT" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_FLOW_STAT definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_FLOW_STAT"  (
		  "SETTLE_DATE" VARCHAR(8) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "SALE_TICKET_NUM" DECIMAL(8,0) , 
		  "EXIT_TICKET_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_FLOW_STAT" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_FLOW_STAT_TEMP definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_FLOW_STAT_TEMP"  (
		  "SETTLE_DATE" VARCHAR(8) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TRANS_CLASS" DECIMAL(4,0) , 
		  "SETTLE_COUNT" DECIMAL(8,0) , 
		  "VALUE_TRANSACTION" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_FLOW_STAT_TEMP" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_IN definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_IN"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "IN_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "IN_OPERATOR" DECIMAL(10,0) , 
		  "UPDATE_NBR" DECIMAL(10,0) , 
		  "AMOUNT_FINAL" DECIMAL(5,0) , 
		  "IS_UPDATE" DECIMAL(1,0) WITH DEFAULT 0 )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
CREATE VIEW XACCDB.VIW_TM_INOUT
(operate_nbr, operator_id, directory_code, inout_num, memo, operate_time, device_nid, inout_operator, inout_type, is_update)
AS
SELECT OPERATE_NBR,
          OPERATOR_ID,
          DIRECTORY_CODE,
          IN_NUM,
          MEMO,
          OPERATE_TIME,
          DEVICE_NID,
          IN_OPERATOR,
           0,
          IS_UPDATE
     FROM T_TM_TICKET_IN
   UNION
   SELECT OPERATE_NBR,
          OPERATOR_ID,
          DIRECTORY_CODE,
          OUT_NUM,
          MEMO,
          OPERATE_TIME,
          DEVICE_NID,
          OUT_OPERATOR,
          1,
          IS_UPDATE
     FROM T_TM_TICKET_OUT ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_IN" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_INVALID definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_INVALID"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OPERATE_NUM" DECIMAL(5,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "MEMO" VARCHAR(40) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_INVALID" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_INVENTORY definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_INVENTORY"  (
		  "INVENTORY_NBR" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "REAL_TICKET_NUM" DECIMAL(8,0) , 
		  "BOOK_TICKET_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_INVENTORY" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_INVENTORY_DETAIL definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_INVENTORY_DETAIL"  (
		  "INVENTORY_NBR" DECIMAL(10,0) , 
		  "AREA_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "REAL_TICKET_NUM" DECIMAL(8,0) , 
		  "BOOK_TICKET_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_INVENTORY_DETAIL" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_OUT definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_OUT"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OUT_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "OUT_OPERATOR" DECIMAL(10,0) , 
		  "UPDATE_NBR" DECIMAL(10,0) , 
		  "AMOUNT_FINAL" DECIMAL(5,0) , 
		  "IS_UPDATE" DECIMAL(1,0) WITH DEFAULT 0 )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
CREATE VIEW XACCDB.VIW_TM_INOUT
(operate_nbr, operator_id, directory_code, inout_num, memo, operate_time, device_nid, inout_operator, inout_type, is_update)
AS
SELECT OPERATE_NBR,
          OPERATOR_ID,
          DIRECTORY_CODE,
          IN_NUM,
          MEMO,
          OPERATE_TIME,
          DEVICE_NID,
          IN_OPERATOR,
           0,
          IS_UPDATE
     FROM T_TM_TICKET_IN
   UNION
   SELECT OPERATE_NBR,
          OPERATOR_ID,
          DIRECTORY_CODE,
          OUT_NUM,
          MEMO,
          OPERATE_TIME,
          DEVICE_NID,
          OUT_OPERATOR,
          1,
          IS_UPDATE
     FROM T_TM_TICKET_OUT ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_OUT" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_REPORT_DAY definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_REPORT_DAY"  (
		  "SETTLE_DATE" VARCHAR(8) , 
		  "AREA_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "START_NUM" DECIMAL(8,0) , 
		  "IN_NUM" DECIMAL(8,0) , 
		  "OUT_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_REPORT_DAY" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_REPORT_MONTH definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_REPORT_MONTH"  (
		  "SETTLE_DATE" VARCHAR(8) , 
		  "AREA_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "START_NUM" DECIMAL(8,0) , 
		  "IN_NUM" DECIMAL(8,0) , 
		  "OUT_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_REPORT_MONTH" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_REPORT_YEAR definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_REPORT_YEAR"  (
		  "SETTLE_DATE" VARCHAR(8) , 
		  "AREA_CODE" DECIMAL(5,0) , 
		  "TICKET_TYPE" DECIMAL(5,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "START_NUM" DECIMAL(8,0) , 
		  "IN_NUM" DECIMAL(8,0) , 
		  "OUT_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_REPORT_YEAR" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_SE definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_SE"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OPERATE_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "VALID_DATE" TIMESTAMP , 
		  "OPERATE_TYPE" DECIMAL(2,0) , 
		  "UPDATE_NBR" DECIMAL(10,0) , 
		  "AMOUNT_FINAL" DECIMAL(5,0) , 
		  "IS_UPDATE" DECIMAL(1,0) WITH DEFAULT 0 )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_SE" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TICKET_SUPPLY definition

CREATE TABLE "XACCDB  "."T_TM_TICKET_SUPPLY"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "SUPPLY_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "VALID_DATE" TIMESTAMP )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
CREATE VIEW   VIW_TM_SUPPLYEXTRACT (operate_nbr, operator_id,
directory_code, se_num, memo, operate_time, se_type) AS SELECT OPERATE_NBR,
OPERATOR_ID, DIRECTORY_CODE, SUPPLY_NUM, MEMO, OPERATE_TIME, 0 FROM T_TM_TICKET_SUPPLY
UNION SELECT OPERATE_NBR, OPERATOR_ID, DIRECTORY_CODE, EXTRACT_NUM, MEMO,
OPERATE_TIME, 1 FROM T_TM_TICKET_EXTRACT ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TICKET_SUPPLY" TO USER "XACCDB  "  ;


-- XACCDB.T_TM_TRACK_DEVICE definition

CREATE TABLE "XACCDB  "."T_TM_TRACK_DEVICE"  (
		  "SETTLE_DATE" VARCHAR(8) , 
		  "LINE_ID" DECIMAL(2,0) , 
		  "STATION_ID" DECIMAL(2,0) , 
		  "DEVICE_TYPE" VARCHAR(2) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "DATA_TYPE" DECIMAL(4,0) , 
		  "START_TICKET_NO" DECIMAL(10,0) , 
		  "END_TICKET_NO" DECIMAL(10,0) , 
		  "LOST_NUM" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

GRANT CONTROL ON TABLE "XACCDB  "."T_TM_TRACK_DEVICE" TO USER "XACCDB  "  ;
```

# 3. CZ需要表
```sql
--CS表
--T_CS_PETTYCASH_IN
--T_CS_PETTYCASH_OUT
--T_CS_PETTYCASH_BALANCE
--T_CS_PETTYCASH_SUPPLY
--T_CS_PETTYCASH_EXTRACT
--T_CS_PETTYCASH_UPDATE
--T_CS_CASH_CHECK_BOM
--T_CS_CASH_CHECK_TVM
--T_CS_CASH_MANUAL_CHECK_TVM
--T_CS_CASH_PAYMENT
--T_CS_PETTYCASH_BALANCE_HIS
--T_PM_0035_OPERATOR
--T_PM_0206_DEVICE

-- XZCCDB.TBL_SS_OPERATOR definition

CREATE TABLE "TBL_SS_OPERATOR"  (
		  "OPERATOR_ID" VARCHAR(10) NOT NULL , 
		  "OPERATOR_NAME" VARCHAR(64) , 
		  "GROUP_NO" DECIMAL(10,0) , 
		  "AREA_NO" DECIMAL(10,0) , 
		  "OPERATOR_NO" VARCHAR(32) , 
		  "OPERATOR_PIN" VARCHAR(32) , 
		  "VALID_START" VARCHAR(8) , 
		  "VALID_END" VARCHAR(8) , 
		  "STATION_NID" VARCHAR(8) , 
		  "CREATE_USER" VARCHAR(8) , 
		  "MEMO" VARCHAR(50) , 
		  "UPDATE_TIME" TIMESTAMP WITH DEFAULT "SYSIBM"."TIMESTAMP"(CURRENT TIMESTAMP) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_CS_PETTYCASH_IN"  (
		  "IN_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "STATION_ID" VARCHAR(8) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "IN_AMOUNT" DECIMAL(8,0) , 
		  "IN_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "IN_OPERATOR" DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0,
		  "SETTLE_DATE" VARCHAR(8)
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_PETTYCASH_IN" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_IN" PRIMARY KEY
		("IN_NBR") ;

CREATE TABLE "T_CS_PETTYCASH_OUT"  (
		  "OUT_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "STATION_ID" VARCHAR(8) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "OUT_AMOUNT" DECIMAL(8,0) , 
		  "OUT_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "OUT_OPERATOR" DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0,
		  "SETTLE_DATE" VARCHAR(8)
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_PETTYCASH_OUT" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_OUT" PRIMARY KEY
		("OUT_NBR") ;

CREATE TABLE "T_CS_PETTYCASH_BALANCE"  (
		  "STATION_ID" VARCHAR(8) , 
		  "PETTYCASH_AMOUNT" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_CS_PETTYCASH_SUPPLY"  (
		  "SUPPLY_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "STATION_ID" VARCHAR(8) , 
		  "SUPPLY_AMOUNT" DECIMAL(8,0) , 
		  "SUPPLY_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) ,
          "SUPPLY_OPERATOR" DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

ALTER TABLE "T_CS_PETTYCASH_SUPPLY" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_SUPPLY" PRIMARY KEY
		("SUPPLY_NBR") ;

CREATE TABLE "T_CS_PETTYCASH_EXTRACT"  (
		  "EXTRACT_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "STATION_ID" VARCHAR(8) , 
		  "EXTRACT_AMOUNT" DECIMAL(8,0) , 
		  "EXTRACT_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) ,
          "EXTRACT_OPERATOR" DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_PETTYCASH_EXTRACT" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_EXTRACT" PRIMARY KEY
		("EXTRACT_NBR") ;

CREATE TABLE "T_CS_PETTYCASH_UPDATE"  (
		  "UPDATE_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "STATION_ID" VARCHAR(8) , 
		  "UPDATE_AMOUNT" DECIMAL(8,0) , 
		  "UPDATE_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) ,
          "Update_Operator"  DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_PETTYCASH_UPDATE" 
	ADD CONSTRAINT "PK_CS_PETTYCASH_UPDATE" PRIMARY KEY
		("UPDATE_NBR") ;

CREATE TABLE "T_CS_CASH_CHECK_BOM"  (
		  "CHECK_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "STATION_ID" VARCHAR(8) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "BOM_SHIFT" DECIMAL(5,0) , 
		  "CHECK_AMOUNT" DECIMAL(10,0) , 
		  "SPECIAL_REFUND_AMOUNT" DECIMAL(10,0) , 
		  "TRANSACTION_AMOUNT" DECIMAL(10,0) , 
		  "CHECK_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "BOM_OPERATOR" DECIMAL(10,0) , 
          "AWAY" DECIMAL(1,0) DEFAULT 0
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

ALTER TABLE "T_CS_CASH_CHECK_BOM" 
	ADD CONSTRAINT "PK_CS_CASH_CHECK_BOM" PRIMARY KEY
		("CHECK_NBR") ;

CREATE TABLE "T_CS_CASH_CHECK_TVM"  (
		  "CHECK_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "CASHBOX_NBR" DECIMAL(3,0) , 
		  "STATION_ID" VARCHAR(8) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "CHECK_AMOUNT" DECIMAL(8,0) , 
		  "CHECK_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "EVENT_CLASS" DECIMAL(3,0) , 
		  "TVM_OPERATOR" DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0
          )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_CASH_CHECK_TVM" 
	ADD CONSTRAINT "PK_CS_CASH_CHECK_TVM" PRIMARY KEY
		("CHECK_NBR") ;

CREATE TABLE "T_CS_CASH_MANUAL_CHECK_TVM"  (
		  "CHECK_NBR" DECIMAL(10,0) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "STATION_ID" VARCHAR(8) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "CHECK_AMOUNT" DECIMAL(8,0) , 
		  "CHECK_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "SETTLE_DATE" CHAR(8) , 
		  "EVENT_CLASS" DECIMAL(3,0) ,
		  "OTHER_AMOUNT" DECIMAL(8,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0		  
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_CASH_MANUAL_CHECK_TVM" 
	ADD CONSTRAINT "PK_CS_CASH_MENUAL_CHECK_TVM" PRIMARY KEY
		("CHECK_NBR") ;

CREATE TABLE "T_CS_CASH_PAYMENT"  (
		  "PAYMENT_NBR" VARCHAR(20) NOT NULL , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "STATION_ID" VARCHAR(8) , 
		  "PAYMENT_AMOUNT" DECIMAL(10,0) , 
		  "PAYMENT_DATE" CHAR(8) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "MEMO" VARCHAR(100) , 
		  "EVENT_CLASS" DECIMAL(3,0) ,
		  "PAYMENT_OPERATOR" DECIMAL(10,0) ,
          "AWAY" DECIMAL(1,0) DEFAULT 0	)   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_CS_CASH_PAYMENT" 
	ADD CONSTRAINT "PK_CS_CASH_PAYMENT" PRIMARY KEY
		("PAYMENT_NBR") ;

CREATE TABLE "T_CS_PETTYCASH_BALANCE_HIS"  (
		  "SETTLE_DATE" CHAR(8) , 
		  "STATION_ID" DECIMAL(3,0) , 
		  "PETTYCASH_AMOUNT" DECIMAL(10,0),
		  "OP_TYPE" CHAR(5)
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE VIEW   VIW_CS_PETTYCASH_SUPPLYEXTRACT AS SELECT 'S' OPERATE_TYPE,
supply_time occur_time, operator_id, supply_amount amount FROM T_CS_PETTYCASH_SUPPLY
UNION ALL SELECT 'E', extract_time, operator_id, extract_AMOUNT FROM T_CS_PETTYCASH_EXTRACT
UNION ALL SELECT 'U', update_time, operator_id, update_amount FROM T_CS_PETTYCASH_UPDATE ;

CREATE VIEW   VIW_CS_PETTYCASH_INOUT (operate_type, operator_id,
device_nid, amount, occur_time) AS SELECT 'O' operate_type, out_operator,
device_nid, out_amount amount, out_time occur_time FROM t_CS_pettycash_out
UNION ALL SELECT 'I', in_operator, device_nid, in_amount amount, in_time occur_time FROM
t_CS_pettycash_in ;

--序列
--DROP SEQUENCE SEQ_CASH_OUT;
CREATE SEQUENCE SEQ_CASH_OUT
START WITH 5
INCREMENT BY 1
MAXVALUE 999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;

--DROP SEQUENCE SEQ_CASH_IN;
CREATE SEQUENCE SEQ_CASH_IN
START WITH 130
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;

--DROP SEQUENCE SEQ_CASH;
CREATE SEQUENCE SEQ_CASH
START WITH 2
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;

--DROP SEQUENCE SEQ_CASH_BOM;
CREATE SEQUENCE SEQ_CASH_BOM
START WITH 10
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;

--DROP SEQUENCE SEQ_CASH_TVM;
CREATE SEQUENCE SEQ_CASH_TVM
START WITH 10
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;

--DROP SEQUENCE SEQ_CASH_TVMMANUAL;
CREATE SEQUENCE SEQ_CASH_TVMMANUAL
START WITH 7
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;

--DROP SEQUENCE SEQ_CASH_BANK;
CREATE SEQUENCE SEQ_CASH_BANK
START WITH 5
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;
```

```sql
--TK表
CREATE TABLE "T_TM_TICKET_OUT"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OUT_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "OUT_OPERATOR" DECIMAL(10,0) , 
		  "UPDATE_NBR" DECIMAL(10,0) , 
		  "AWAY" DECIMAL(1,0) DEFAULT 0 ,
		  "SETTLE_DATE" VARCHAR(8)
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_TM_TICKET_IN"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "IN_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "IN_OPERATOR" DECIMAL(10,0) , 
		  "UPDATE_NBR" DECIMAL(10,0) , 
		  "AWAY" DECIMAL(1,0) DEFAULT 0 ,
		  "SETTLE_DATE" VARCHAR(8) 
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_TM_DIRECTORY"  (
		  "DIRECTORY_CODE" DECIMAL(5,0) NOT NULL , 
		  "DIRECTORY_NAME" VARCHAR(50) , 
		  "TICKET_CHINESE" VARCHAR(40) , 
		  "IS_RECYCLE" DECIMAL(1,0) 
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
ALTER TABLE "T_TM_DIRECTORY" 
	ADD CONSTRAINT "PK_TM_DIRECTORY" PRIMARY KEY
		("DIRECTORY_CODE") ;

CREATE TABLE "T_TM_TICKET_SE"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OPERATE_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "VALID_DATE" TIMESTAMP , 
		  "OPERATE_TYPE" DECIMAL(2,0) , 
		  "UPDATE_NBR" DECIMAL(10,0) , 
		  "AMOUNT_FINAL" DECIMAL(5,0) , 
		  "AWAY" DECIMAL(1,0) DEFAULT 0  
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_TM_TICKET_BALANCE"  (
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "TICKET_NUM" DECIMAL(10,0) , 
		  "TICKET_AMOUNT" DECIMAL(5,0) , 
		  "TICKET_NUM_YES" DECIMAL(10,0) , 
		  "SUPPLY_FROM_OTHER" DECIMAL(10,0) , 
		  "SUPPLY_FROM_TC" DECIMAL(10,0) , 
		  "AGM_RETRIEVE" DECIMAL(10,0) , 
		  "BOM_SALE" DECIMAL(10,0) , 
		  "TVM_SALE" DECIMAL(10,0) , 
		  "AGM_INVALID" DECIMAL(10,0) , 
		  "BOM_INVALID" DECIMAL(10,0) , 
		  "TVM_INVALID" DECIMAL(10,0) , 
		  "EXTRACT_TO_OTHER" DECIMAL(10,0) , 
		  "EXTRACT_TO_TC" DECIMAL(10,0) , 
		  "MANUAL_RETRIEVE" DECIMAL(10,0) , 
		  "INVENTORY_NUM" DECIMAL(10,0) , 
		  "ADJUST_NUM" DECIMAL(10,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;
--这段代码是用来创建一个名为"T_TM_TICKET_BALANCE"的表格，其中包含了多个列，如"DIRECTORY_CODE"、"BATCH_NO"、"TICKET_NUM"等等，每个列的数据类型都是DECIMAL，分别指定了不同的精度和位数。这个表格被存储在名为"TBSCCDBADMIN"的数据库中，并且使用了名为"TBSCCDBINDEX"的索引。最后，这个表格被组织成行的形式。
--IN "TBSCCDBACCOUNT" INDEX IN "TBSCCDBINDEX"
CREATE TABLE "T_TM_TICKET_INVALID"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OPERATE_NUM" DECIMAL(5,0) , 
		  "DEVICE_NID" VARCHAR(8) , 
		  "MEMO" VARCHAR(40) ,
		  "SETTLE_DATE" VARCHAR(8))   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_TM_TICKET_INVENTORY"  (
		  "INVENTORY_NBR" DECIMAL(10,0) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "BATCH_NO" DECIMAL(5,0) , 
		  "REAL_TICKET_NUM" DECIMAL(8,0) , 
		  "BOOK_TICKET_NUM" DECIMAL(8,0) )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE TABLE "T_TM_TICKET_ADJUST"  (
		  "OPERATE_NBR" DECIMAL(10,0) , 
		  "OPERATOR_ID" VARCHAR(10) , 
		  "DIRECTORY_CODE" DECIMAL(5,0) , 
		  "ADJUST_NUM" DECIMAL(5,0) , 
		  "MEMO" VARCHAR(40) , 
		  "OPERATE_TIME" TIMESTAMP , 
		  "ADJUST_OPERATOR" DECIMAL(10,0) ,
		  "AWAY" DECIMAL(1,0) DEFAULT 0  
		  )   
		 IN "TBSCCDBADMIN" INDEX IN "TBSCCDBINDEX"  
		 ORGANIZE BY ROW  ;

CREATE VIEW VIW_TM_INOUT
(operate_nbr, operator_id, directory_code, inout_num, memo, operate_time, device_nid, inout_operator, inout_type, is_update)
AS
SELECT OPERATE_NBR,
          OPERATOR_ID,
          DIRECTORY_CODE,
          IN_NUM,
          MEMO,
          OPERATE_TIME,
          DEVICE_NID,
          IN_OPERATOR,
           0,
          AWAY
     FROM T_TM_TICKET_IN
   UNION
   SELECT OPERATE_NBR,
          OPERATOR_ID,
          DIRECTORY_CODE,
          OUT_NUM,
          MEMO,
          OPERATE_TIME,
          DEVICE_NID,
          OUT_OPERATOR,
          1,
          AWAY
     FROM T_TM_TICKET_OUT ;



--sequence
--DROP SEQUENCE SEQ_TM;
CREATE SEQUENCE SEQ_TM
START WITH 10
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 1
CYCLE 
CACHE 20
NOORDER;


```

```Data
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (1,'单程票',NULL,1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (12,'预制单程票','2元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (13,'预制单程票','3元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (14,'预制单程票','4元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (15,'预制单程票','5元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (52,'应急票','2元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (53,'应急票','3元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (54,'应急票','4元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (55,'应急票','5元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (91,'行李票','2元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (95,'长安通卡','普通卡',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (101,'营销车票','纪念票1',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (16,'预制单程票','6元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (17,'预制单程票','7元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (18,'预制单程票','8元',1);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (57,'应急票','7元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (58,'应急票','8元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (56,'应急票','6元',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (102,'营销车票','纪念票2',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (103,'营销车票','纪念票3',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (104,'营销车票','纪念票4',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (105,'营销车票','纪念票5',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (99,'营销车票','一日票',0);
INSERT INTO T_TM_DIRECTORY (DIRECTORY_CODE,DIRECTORY_NAME,TICKET_CHINESE,IS_RECYCLE) VALUES (100,'营销车票','三日票',0);
```

```sql
--存储过程
--P_BATCH_CS
CREATE OR REPLACE PROCEDURE "P_BATCH_CS" (batch_date VARCHAR) IS errmsg VARCHAR(200);
v_station_id NUMERIC;
v_station_id_count NUMERIC;
v_pettyamount NUMERIC;
v_count NUMERIC;
v_start_trans_time DATE;
v_end_trans_time DATE;

-- performance log variables
 batch_name VARCHAR2(50);
start_time DATE;
end_time DATE;
elapsed_time BINARY_INTEGER;
rid NUMERIC(10);
BooleanTemp Boolean;

BEGIN start_time := SYSDATE;
batch_name := 'P_BATCH_CS';
rid := CCDB_APP.IF_DB_LOG_INSERT(batch_name,
batch_date);

v_start_trans_time := to_date(batch_date || '00:00:00', 'yyyyMMddHH24:mi:ss');
v_end_trans_time := to_date(batch_date || '23:59:59', 'yyyyMMddHH24:mi:ss');

--统计balance
--HHJT_CJP 2018.09.21对v_station_id是否为空做判断
 SELECT
   count(v_station_id)
INTO    v_station_id_count
FROM    t_station_current_station;


IF v_station_id_count = 0 THEN v_station_id := 0;
ELSE
SELECT
   station_id
INTO    v_station_id
FROM    t_station_current_station;
END IF;


SELECT
   count(*)
INTO    v_count
FROM    T_CS_PETTYCASH_BALANCE_his
WHERE    station_id = v_station_id
   AND settle_date = to_char(to_date(replace(batch_date, ' ', ''), 'yyyyMMdd')-1);


IF v_count = 0 THEN v_pettyamount := 0;
ELSE
SELECT
   pettycash_amount
INTO    v_pettyamount
FROM    T_CS_PETTYCASH_BALANCE_his
WHERE    station_id = v_station_id
   AND settle_date = to_char(to_date(replace(batch_date, ' ', ''), 'yyyyMMdd')-1);
END IF;

--dbms_output.put_line(v_pettyamount);

 SELECT
   v_pettyamount-nvl(SUM (DECODE (operate_type, 'O', amount)), 0)+ nvl(SUM (DECODE (operate_type, 'I', amount)), 0)
INTO    v_pettyamount
FROM    XACCDB.viw_cs_pettycash_inout
WHERE    occur_time >= v_start_trans_time
   AND occur_time <= v_end_trans_time;

SELECT
   v_pettyamount + nvl(SUM (DECODE (operate_type, 'S', amount)), 0)-nvl(SUM (DECODE (operate_type, 'E', amount)), 0)+ nvl(SUM (DECODE (operate_type, 'U', amount)), 0)
INTO    v_pettyamount
FROM    XACCDB.viw_cs_pettycash_supplyextract
WHERE    occur_time >= v_start_trans_time
   AND occur_time <= v_end_trans_time;

DELETE
FROM    T_CS_PETTYCASH_BALANCE;

INSERT
   INTO    T_CS_PETTYCASH_BALANCE(station_id,
   pettycash_amount)
VALUES(v_station_id,
v_pettyamount);

--备份balance
 DELETE
FROM    T_CS_PETTYCASH_BALANCE_HIS
WHERE    settle_date = batch_date;

INSERT
   INTO    T_CS_PETTYCASH_BALANCE_HIS (settle_date,
   station_id,
   pettycash_amount)
SELECT
   batch_date,
   station_id,
   pettycash_amount
FROM    T_CS_PETTYCASH_BALANCE;

--生成进出帐------用于长短款统计
end_time := SYSDATE;
elapsed_time := (end_time - start_time) * 86400;
BooleanTemp := CCDB_APP.IF_DB_LOG_UPDATE(rid,
elapsed_time,
0);


IF (NOT BooleanTemp
   AND CCDB_APP.DEBUG__) THEN errmsg := ' error when executing IF_DB_LOG_UPDATE';
DBMS_OUTPUT.PUT_LINE(errmsg);
END IF;

COMMIT;

EXCEPTION
WHEN OTHERS THEN ROLLBACK;

IF (CCDB_APP.DEBUG__) THEN DBMS_OUTPUT.put_line('ERR:' || SQLERRM(SQLCODE));

ELSE errmsg := SQLERRM(SQLCODE);

CCDB_LIB.P_APP_LOGREG('P_BATCH_CS',
CCDB_STD.LEVEL_LOG_FERR,
errmsg,
CCDB_STD.DEST_DB);

END IF;

END p_batch_cs;
```
# 4. 备忘
```sql
AFC_LoginUser.CurrentUser.UserID

switch (type)
{
    case DSInt.CurrentStationOperators:
        if (AFC_LoginUser.CurrentUser.UserID == "10001")
        {
            strSQL = string.Format(@"select operator_nbr,trim(to_char(operator_nbr ,'000000')) from t_3009_operator  op where ccdb_lib.F_SYS_CHECK_USERPRIV(operator_type,'{0}')=1 and op.parameter_nbr=(select max(parameter_nbr)from t_parameter_ctrl where parameter_type='3009' and parameter_status=0)", args);
        }
        else
        {
            strSQL = string.Format(@"select operator_nbr,trim(to_char(operator_nbr ,'000000')) from t_3009_operator  op where ccdb_lib.F_SYS_CHECK_USERPRIV(operator_type,'{0}')=1 and op.operator_nbr<>'{1}' and op.parameter_nbr=(select max(parameter_nbr)from t_parameter_ctrl where parameter_type='3009' and parameter_status=0)", args, AFC_LoginUser.CurrentUser.UserID);
        }
        //                    strSQL = @"select operator_id, trim(to_char(operator_id ,'000000'))
        //from t_station_operator_list a, t_station_current_station b where a.station_id = b.station_id";
        break;
    default:
        break;
}

```
